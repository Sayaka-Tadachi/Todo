{"ast":null,"code":"var _jsxFileName = \"/app/app/javascript/components/TodoList.js\",\n    _templateObject,\n    _templateObject2,\n    _templateObject3,\n    _templateObject4,\n    _templateObject5,\n    _templateObject6,\n    _templateObject7,\n    _templateObject8;\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport styled from 'styled-components';\nimport { ImCheckboxChecked, ImCheckboxUnchecked } from 'react-icons/im';\nimport { AiFillEdit } from 'react-icons/ai';\nvar SearchAndButtton = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n\"])));\nvar SearchForm = styled.input(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  font-size: 20px;\\n  width: 100%;\\n  height: 40px;\\n  margin: 10px 0;\\n  padding: 10px;\\n\"])));\nvar RemoveAllButton = styled.button(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n  width: 16%;\\n  height: 40px;\\n  background: #f54242;\\n  border: none;\\n  font-weight: 500;\\n  margin-left: 10px;\\n  padding: 5px 10px;\\n  border-radius: 3px;\\n  color: #fff;\\n  cursor: pointer;\\n\"])));\nvar TodoName = styled.span(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n  font-size: 27px;\\n  \", \"\\n\"])), function (_ref) {\n  var is_completed = _ref.is_completed;\n  return is_completed && \"\\n    opacity: 0.4;\\n  \";\n});\nvar Row = styled.div(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin: 7px auto;\\n  padding: 10px;\\n  font-size: 25px;\\n\"])));\nvar CheckedBox = styled.div(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  margin: 0 7px;\\n  color: green;\\n  cursor: pointer;\\n\"])));\nvar UncheckedBox = styled.div(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  margin: 0 7px;\\n  cursor: pointer;\\n\"])));\nvar EditButton = styled.span(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  margin: 0 7px;\\n\"])));\n\nfunction TodoList() {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      todos = _useState2[0],\n      setTodos = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      searchName = _useState4[0],\n      setSearchName = _useState4[1];\n\n  useEffect(function () {\n    axios.get('/api/v1/todos.json').then(function (resp) {\n      console.log(resp.data);\n      setTodos(resp.data);\n    })[\"catch\"](function (e) {\n      console.log(e);\n    });\n  }, []);\n\n  var removeAllTodos = function removeAllTodos() {\n    var sure = windown.confirm('Are you sure?');\n    if (sure) axios[\"delete\"]('/api/v1/todos/destroy_all').then(function (resp) {\n      setTodos([]);\n    })[\"catch\"](function (e) {\n      console.log(e);\n    });\n  };\n\n  var updateIsCompleted = function updateIsCompleted(index, val) {\n    var data = {\n      id: val.id,\n      name: val.name,\n      is_completed: !val.is_completed\n    };\n    axios.patch(\"/api/v1/todos/\".concat(val.id), data).then(function (resp) {\n      var newTodos = _toConsumableArray(todos);\n\n      newTodos[index].is_completed = resp.data.is_completed;\n      setTodos(newTodos);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }\n  }, \"Todo List\"), /*#__PURE__*/React.createElement(SearchAndButtton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SearchForm, {\n    type: \"text\",\n    placeholder: \"search todo...\",\n    onChange: function onChange(event) {\n      setSearchName(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(RemoveAllButton, {\n    onClick: removeAllTodos,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, \"Remove All\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }, todos.filter(function (val) {\n    if (searchName === \"\") {\n      return val;\n    } else if (val.name.toLowerCase().includes(searchName.toLocaleLowerCase())) {\n      return val;\n    }\n  }).map(function (val, key) {\n    return /*#__PURE__*/React.createElement(Row, {\n      key: key,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }\n    }, val.is_completed ? /*#__PURE__*/React.createElement(CheckedBox, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(ImCheckboxChecked, {\n      onClick: function onClick() {\n        return updateIsCompleted(key, val);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    })) : /*#__PURE__*/React.createElement(UncheckedBox, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(ImCheckboxUnchecked, {\n      onClick: function onClick() {\n        return updateIsCompleted(key, val);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(TodoName, {\n      is_completed: val.is_completed,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }\n    }, val.name), /*#__PURE__*/React.createElement(Link, {\n      to: \"/todos/\" + val.id + \"/edit\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(EditButton, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(AiFillEdit, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }\n    }))));\n  })));\n}\n\nexport default TodoList;","map":{"version":3,"sources":["/app/app/javascript/components/TodoList.js"],"names":["React","useState","useEffect","Link","axios","styled","ImCheckboxChecked","ImCheckboxUnchecked","AiFillEdit","SearchAndButtton","div","SearchForm","input","RemoveAllButton","button","TodoName","span","is_completed","Row","CheckedBox","UncheckedBox","EditButton","TodoList","todos","setTodos","searchName","setSearchName","get","then","resp","console","log","data","e","removeAllTodos","sure","windown","confirm","updateIsCompleted","index","val","id","name","patch","newTodos","event","target","value","filter","toLowerCase","includes","toLocaleLowerCase","map","key"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport axios from 'axios'\nimport styled from 'styled-components'\nimport { ImCheckboxChecked, ImCheckboxUnchecked } from 'react-icons/im'\nimport { AiFillEdit } from 'react-icons/ai'\n\nconst SearchAndButtton = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`\nconst SearchForm = styled.input`\n  font-size: 20px;\n  width: 100%;\n  height: 40px;\n  margin: 10px 0;\n  padding: 10px;\n`\n\nconst RemoveAllButton = styled.button`\n  width: 16%;\n  height: 40px;\n  background: #f54242;\n  border: none;\n  font-weight: 500;\n  margin-left: 10px;\n  padding: 5px 10px;\n  border-radius: 3px;\n  color: #fff;\n  cursor: pointer;\n`\nconst TodoName = styled.span`\n  font-size: 27px;\n  ${({ is_completed }) => is_completed && `\n    opacity: 0.4;\n  `}\n`\n\nconst Row = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 7px auto;\n  padding: 10px;\n  font-size: 25px;\n`\n\nconst CheckedBox = styled.div`\n  display: flex;\n  align-items: center;\n  margin: 0 7px;\n  color: green;\n  cursor: pointer;\n`\nconst UncheckedBox = styled.div`\n  display: flex;\n  align-items: center;\n  margin: 0 7px;\n  cursor: pointer;\n`\n\nconst EditButton = styled.span`\n  display: flex;\n  align-items: center;\n  margin: 0 7px;\n`\n\n\n\nfunction TodoList() {\n  const [todos, setTodos] = useState([])\n  const [searchName, setSearchName] = useState('')\n\n  useEffect(() => {\n    axios.get('/api/v1/todos.json')\n    .then(resp => {\n      console.log(resp.data)\n      setTodos(resp.data);\n    })\n    .catch(e => {\n      console.log(e);\n    })\n  }, [])\n\n  const removeAllTodos = () => {\n    const sure = windown.confirm('Are you sure?')\n    if (sure)\n    axios.delete('/api/v1/todos/destroy_all')\n    .then(resp => {\n      setTodos([])\n    })\n    .catch(e => {\n      console.log(e)\n    })\n  }\n\n  const updateIsCompleted = (index, val) => {\n    var data = {\n      id: val.id,\n      name : val.name,\n      is_completed: !val.is_completed\n    }\n    axios.patch(`/api/v1/todos/${val.id}`, data)\n    .then(resp => {\n      const newTodos = [...todos]\n      newTodos[index].is_completed = resp.data.is_completed\n      setTodos(newTodos)\n    })\n  }\n   \n  return (\n    <>\n      <h1>Todo List</h1>\n      <SearchAndButtton>\n        <SearchForm\n          type=\"text\"\n          placeholder=\"search todo...\"\n          onChange={event => {\n            setSearchName(event.target.value)\n          }}\n          />\n          <RemoveAllButton onClick={removeAllTodos}>\n            Remove All\n          </RemoveAllButton>\n      </SearchAndButtton>\n\n      <div>\n        {todos.filter((val) => {\n          if(searchName === \"\") {\n            return val\n          } else if (val.name.toLowerCase().includes(searchName.toLocaleLowerCase())) {\n            return val\n          }\n        }).map((val, key) => {\n          return (\n            <Row key={key}>\n            {val.is_completed ? (\n              <CheckedBox>\n                <ImCheckboxChecked onClick={() => updateIsCompleted(key, val) } />\n              </CheckedBox>\n            ) : (\n              <UncheckedBox>\n                <ImCheckboxUnchecked onClick={() => updateIsCompleted(key, val) } />\n              </UncheckedBox>\n            )}\n            <TodoName is_completed={val.is_completed}>\n              {val.name}\n            </TodoName>\n            <Link to={\"/todos/\" + val.id + \"/edit\"}>\n              <EditButton>\n                <AiFillEdit />\n              </EditButton>\n            </Link>\n          </Row>\n        )\n      })}\n    </div>\n  </>\n)\n}\n\n\nexport default TodoList\n"]},"metadata":{},"sourceType":"module"}