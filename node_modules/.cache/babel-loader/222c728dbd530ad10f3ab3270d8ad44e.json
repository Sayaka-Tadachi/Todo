{"ast":null,"code":"var _jsxFileName = \"/app/app/javascript/components/AddTodo.js\",\n    _templateObject,\n    _templateObject2,\n    _templateObject3,\n    _templateObject4;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport styled from 'styled-components';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { FiSend } from 'react-icons/fi';\nvar InputAndButton = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  margin-top: 20px;\\n\"])));\nvar InputName = styled.input(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  font-size: 20px;\\n  width: 100%;\\n  height: 40px;\\n  padding: 2px 7px;\\n\"])));\nvar Button = styled.button(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n  font-size: 20px;\\n  border: none;\\n  border-radius: 3px;\\n  margin-left: 10px;\\n  padding: 2px 10px;\\n  background: #1E90FF;\\n  colour: #fff;\\n  text-align: center;\\n  cursor: pointer;\\n  \", \"\\n\\n\"])), function (_ref) {\n  var disabled = _ref.disabled;\n  return disabled && \"\\n    opacity: 0.5;\\n    cursor: default;\\n  \";\n});\nvar Icon = styled.span(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n  display: flex;\\n  align-item: center;\\n  margin: 0 7px;\\n\\n\"])));\ntoast.configure();\n\nfunction AddTodo(props) {\n  var initialTodoState = {\n    id: null,\n    name: \"\",\n    is_completed: false\n  };\n\n  var _useState = useState(initialTodoState),\n      _useState2 = _slicedToArray(_useState, 2),\n      todo = _useState2[0],\n      setTodo = _useState2[1];\n\n  var handleInputChange = function handleInputChange(event) {\n    var _event$target = event.target,\n        name = _event$target.name,\n        value = _event$target.value;\n    setTodo(_objectSpread(_objectSpread({}, todo), {}, _defineProperty({}, name, value)));\n  };\n\n  var notify = function notify() {\n    toast.success('Todo successfully created', {\n      position: 'bottom-center',\n      hideProgressBar: true\n    });\n  };\n\n  var saveTodo = function saveTodo() {\n    var data = {\n      name: todo.name\n    };\n    axios.post('/api/v1/todos', data).then(function (resp) {\n      setTodo({\n        id: resp.data.id,\n        name: resp.data.name,\n        is_completed: resp.data.is_completed\n      });\n      notify();\n      props.history.push('/todos');\n    })[\"catch\"](function (e) {\n      console.log(e);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, \"New Todo\"), /*#__PURE__*/React.createElement(InputAndButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(InputName, {\n    type: \"text\",\n    required: true,\n    value: todo.name,\n    name: \"name\",\n    onChange: handleInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    onClick: saveTodo,\n    disabled: !todo.name || /^\\s*$/.test(todo.name),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FiSend, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  })))));\n}\n\nexport default AddTodo;","map":{"version":3,"sources":["/app/app/javascript/components/AddTodo.js"],"names":["React","useState","axios","styled","toast","FiSend","InputAndButton","div","InputName","input","Button","button","disabled","Icon","span","configure","AddTodo","props","initialTodoState","id","name","is_completed","todo","setTodo","handleInputChange","event","target","value","notify","success","position","hideProgressBar","saveTodo","data","post","then","resp","history","push","e","console","log","test"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport axios from 'axios'\nimport styled from 'styled-components'\nimport { toast } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\nimport { FiSend } from 'react-icons/fi'\n\nconst InputAndButton = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-top: 20px;\n`\n\nconst InputName = styled.input`\n  font-size: 20px;\n  width: 100%;\n  height: 40px;\n  padding: 2px 7px;\n`\nconst Button = styled.button`\n  font-size: 20px;\n  border: none;\n  border-radius: 3px;\n  margin-left: 10px;\n  padding: 2px 10px;\n  background: #1E90FF;\n  colour: #fff;\n  text-align: center;\n  cursor: pointer;\n  ${({ disabled }) => disabled &&`\n    opacity: 0.5;\n    cursor: default;\n  `}\n\n`\nconst Icon = styled.span`\n  display: flex;\n  align-item: center;\n  margin: 0 7px;\n\n`\ntoast.configure()\n\nfunction AddTodo(props) {\n  const initialTodoState = {\n    id: null,\n    name: \"\",\n    is_completed: false\n  }\n\n  const [todo, setTodo] = useState(initialTodoState)\n\n  const handleInputChange = event => {\n    const { name, value } = event.target;\n    setTodo({ ...todo, [name]: value })\n  }\n\n  const notify = () => {\n  toast.success('Todo successfully created', {\n    position: 'bottom-center',\n    hideProgressBar: true\n  })\n}\n\n  const saveTodo = () => {\n    var data = {\n      name: todo.name\n    }\n\n    axios.post ('/api/v1/todos', data)\n    .then(resp => {\n      setTodo({\n        id: resp.data.id,\n        name: resp.data.name,\n        is_completed: resp.data.is_completed\n      })\n      notify()\n      props.history.push('/todos')\n    })\n    .catch(e => {\n      console.log(e)\n    })\n  }\n  return (\n    <>\n      <h1>New Todo</h1>\n      <InputAndButton>\n        <InputName\n          type=\"text\"\n          required\n          value={todo.name}\n          name=\"name\"\n          onChange={handleInputChange}\n          />\n          <Button\n          onClick={saveTodo}\n          disabled={(!todo.name || /^\\s*$/.test(todo.name))}>\n            <Icon>\n              <FiSend/>\n            </Icon>\n          </Button>\n      </InputAndButton>\n    </>\n  )\n}\n\nexport default AddTodo\n"]},"metadata":{},"sourceType":"module"}